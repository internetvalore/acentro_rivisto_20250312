function m(){const s=document.querySelectorAll(".animate-on-scroll"),t=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&o.target.classList.add("show")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});s.forEach(n=>{t.observe(n)})}document.addEventListener("DOMContentLoaded",()=>{m()});document.addEventListener("astro:page-load",()=>{m()});(function(s,t,n,o,a){s[o]=s[o]||[],s[o].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var r=t.getElementsByTagName(n)[0],i=t.createElement(n),l="";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+a+l,r.parentNode.insertBefore(i,r)})(window,document,"script","dataLayer","GTM-M4FB4C25");function v(){const s=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".main-nav"),n=document.querySelectorAll(".has-submenu"),o=document.querySelectorAll(".submenu-toggle");function a(){n.forEach(e=>{e.classList.remove("show-submenu"),e.classList.remove("hover-submenu")})}s?.addEventListener("click",()=>{s.classList.toggle("active"),t?.classList.toggle("active")});function r(){window.innerWidth<=768?o.forEach(e=>{const c=e.parentNode;if(c){const u=e.cloneNode(!0);c.replaceChild(u,e),u.addEventListener("click",h=>{h.preventDefault();const d=u.closest(".has-submenu");d&&(d.classList.contains("show-submenu")?d.classList.remove("show-submenu"):(a(),d.classList.add("show-submenu")))})}}):n.forEach(e=>{e.classList.remove("show-submenu"),e.addEventListener("mouseenter",()=>{a(),e.classList.add("hover-submenu")}),e.addEventListener("mouseleave",()=>{e.classList.remove("hover-submenu")});const c=e.querySelector(".submenu-toggle");c&&c.addEventListener("click",u=>{u.preventDefault()})})}o.length>0&&r(),document.addEventListener("click",e=>{e.target.closest(".has-submenu")||a()}),document.querySelectorAll(".submenu a").forEach(e=>{e.addEventListener("click",()=>{a(),s?.classList.remove("active"),t?.classList.remove("active")})});let l;window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{a(),r()},250)})}document.addEventListener("DOMContentLoaded",v);document.addEventListener("astro:page-load",v);window.addEventListener("load",()=>{document.querySelectorAll(".has-submenu").forEach(t=>{t.classList.remove("show-submenu"),t.classList.remove("hover-submenu")})});
